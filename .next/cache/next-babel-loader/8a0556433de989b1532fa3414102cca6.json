{"ast":null,"code":"import _slicedToArray from \"D:/code/sample-shopify-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"D:/code/sample-shopify-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation scriptTagDelete($id: ID!){\\n        scriptTagDelete(id: $id){\\n            deletedScriptTagId\\n            userErrors{\\n                field\\n                message\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    query{\\n        scriptTags(first: 5){\\n            edges{\\n                node{\\n                    id\\n                    src\\n                    displayScope\\n                }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation scriptTagCreate($input: ScriptTagInput!){\\n        scriptTagCreate(input: $input){\\n            scriptTag{\\n                id\\n            }\\n            userErrors{\\n                field\\n                message\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\nvar CREATE_SCRIPT_TAG = gql(_templateObject());\nvar QUERY_SCRIPT_TAGS = gql(_templateObject2());\nvar DELETE_SCRIPT_TAG = gql(_templateObject3());\n\nvar ScriptPage = function ScriptPage() {\n  _s();\n\n  var _useMutation = useMutation(CREATE_SCRIPT_TAG),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createScripts = _useMutation2[0];\n\n  var _useMutation3 = useMutation(DELETE_SCRIPT_TAG),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      deleteScripts = _useMutation4[0];\n\n  var _useQuery = useQuery(QUERY_SCRIPT_TAGS),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) return /*#__PURE__*/_jsx(\"div\", {\n    children: \"Loading...\"\n  });\n  if (error) return /*#__PURE__*/_jsx(\"div\", {\n    children: error.message\n  });\n  return /*#__PURE__*/_jsx(Page, {\n    children: /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(Layout.Section, {\n        children: /*#__PURE__*/_jsx(Card, {\n          title: \"These are the script tags:\",\n          sectioned: true,\n          children: /*#__PURE__*/_jsx(\"p\", {\n            children: \"Create or delete a script tag\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(Layout.Section, {\n        secondary: true,\n        children: /*#__PURE__*/_jsx(Card, {\n          title: \"Delete Tag\",\n          sectioned: true,\n          children: /*#__PURE__*/_jsx(Button, {\n            primary: true,\n            size: \"slim\",\n            type: \"submit\",\n            onClick: function onClick() {\n              createScripts({\n                variables: {\n                  input: {\n                    src: 'https://a30dd80893d0.ngrok.io/test-script.js',\n                    displayScope: 'ALL'\n                  }\n                },\n                refetchQueries: [{\n                  query: QUERY_SCRIPT_TAGS\n                }]\n              });\n            },\n            children: \"Create Script Tag\"\n          })\n        })\n      })]\n    })\n  });\n};\n\n_s(ScriptPage, \"iqhspeQcVyYRQUjV1rXbLYn8j4k=\", false, function () {\n  return [useMutation, useMutation, useQuery];\n});\n\n_c = ScriptPage;\nexport default ScriptPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScriptPage\");","map":{"version":3,"sources":["D:/code/sample-shopify-app/pages/script-page.js"],"names":["gql","useQuery","useMutation","Button","Card","Layout","Page","ResourceList","Stack","CREATE_SCRIPT_TAG","QUERY_SCRIPT_TAGS","DELETE_SCRIPT_TAG","ScriptPage","createScripts","deleteScripts","loading","error","data","message","variables","input","src","displayScope","refetchQueries","query"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,SAAQC,QAAR,EAAkBC,WAAlB,QAAoC,qBAApC;AACA,SAAQC,MAAR,EAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,IAA9B,EAAoCC,YAApC,EAAkDC,KAAlD,QAA8D,kBAA9D;AAEA,IAAMC,iBAAiB,GAAGT,GAAH,mBAAvB;AAcA,IAAMU,iBAAiB,GAAGV,GAAH,oBAAvB;AAcA,IAAMW,iBAAiB,GAAGX,GAAH,oBAAvB;;AAaA,IAAMY,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AAAA,qBAEEV,WAAW,CAACO,iBAAD,CAFb;AAAA;AAAA,MAEfI,aAFe;;AAAA,sBAGEX,WAAW,CAACS,iBAAD,CAHb;AAAA;AAAA,MAGfG,aAHe;;AAAA,kBAIWb,QAAQ,CAACS,iBAAD,CAJnB;AAAA,MAIdK,OAJc,aAIdA,OAJc;AAAA,MAILC,KAJK,aAILA,KAJK;AAAA,MAIEC,IAJF,aAIEA,IAJF;;AAMrB,MAAIF,OAAJ,EAAa,oBAAO;AAAA;AAAA,IAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA,cAAMA,KAAK,CAACE;AAAZ,IAAP;AAEX,sBACI,KAAC,IAAD;AAAA,2BACI,MAAC,MAAD;AAAA,8BACI,KAAC,MAAD,CAAQ,OAAR;AAAA,+BACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAC,4BAAZ;AAAyC,UAAA,SAAS,MAAlD;AAAA,iCACI;AAAA;AAAA;AADJ;AADJ,QADJ,eAQI,KAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,SAAS,MAAzB;AAAA,+BACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAC,YAAZ;AAAyB,UAAA,SAAS,MAAlC;AAAA,iCACI,KAAC,MAAD;AACI,YAAA,OAAO,MADX;AAEI,YAAA,IAAI,EAAC,MAFT;AAGI,YAAA,IAAI,EAAC,QAHT;AAII,YAAA,OAAO,EAAE,mBAAM;AACXL,cAAAA,aAAa,CAAC;AACVM,gBAAAA,SAAS,EAAE;AACPC,kBAAAA,KAAK,EAAC;AACFC,oBAAAA,GAAG,EAAE,8CADH;AAEFC,oBAAAA,YAAY,EAAE;AAFZ;AADC,iBADD;AAOVC,gBAAAA,cAAc,EAAE,CAAC;AAAEC,kBAAAA,KAAK,EAAEd;AAAT,iBAAD;AAPN,eAAD,CAAb;AASH,aAdL;AAAA;AAAA;AADJ;AADJ,QARJ;AAAA;AADJ,IADJ;AAiCH,CA1CD;;GAAME,U;UAEqBV,W,EACAA,W,EACSD,Q;;;KAJ9BW,U;AA4CN,eAAeA,UAAf","sourcesContent":["import gql from 'graphql-tag';\r\nimport {useQuery, useMutation} from '@apollo/react-hooks';\r\nimport {Button, Card, Layout, Page, ResourceList, Stack} from '@shopify/polaris';\r\n\r\nconst CREATE_SCRIPT_TAG = gql`\r\n    mutation scriptTagCreate($input: ScriptTagInput!){\r\n        scriptTagCreate(input: $input){\r\n            scriptTag{\r\n                id\r\n            }\r\n            userErrors{\r\n                field\r\n                message\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst QUERY_SCRIPT_TAGS = gql`\r\n    query{\r\n        scriptTags(first: 5){\r\n            edges{\r\n                node{\r\n                    id\r\n                    src\r\n                    displayScope\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst DELETE_SCRIPT_TAG = gql`\r\n    mutation scriptTagDelete($id: ID!){\r\n        scriptTagDelete(id: $id){\r\n            deletedScriptTagId\r\n            userErrors{\r\n                field\r\n                message\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nconst ScriptPage = () => {\r\n\r\n    const[createScripts] = useMutation(CREATE_SCRIPT_TAG);\r\n    const[deleteScripts] = useMutation(DELETE_SCRIPT_TAG);\r\n    const {loading, error, data } = useQuery(QUERY_SCRIPT_TAGS);\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>{error.message}</div>;\r\n\r\n    return (\r\n        <Page>\r\n            <Layout>\r\n                <Layout.Section>\r\n                    <Card title=\"These are the script tags:\" sectioned>\r\n                        <p>\r\n                            Create or delete a script tag\r\n                        </p>\r\n                    </Card>\r\n                </Layout.Section>\r\n                <Layout.Section secondary>\r\n                    <Card title=\"Delete Tag\" sectioned>\r\n                        <Button\r\n                            primary\r\n                            size='slim'\r\n                            type='submit'\r\n                            onClick={() => {\r\n                                createScripts({\r\n                                    variables: {\r\n                                        input:{\r\n                                            src: 'https://a30dd80893d0.ngrok.io/test-script.js',\r\n                                            displayScope: 'ALL'\r\n                                        }\r\n                                    },\r\n                                    refetchQueries: [{ query: QUERY_SCRIPT_TAGS}]\r\n                                })\r\n                            }}\r\n                        >Create Script Tag</Button>\r\n                    </Card>\r\n                </Layout.Section>\r\n            </Layout>\r\n        </Page>\r\n    )\r\n}\r\n\r\nexport default ScriptPage;\r\n"]},"metadata":{},"sourceType":"module"}